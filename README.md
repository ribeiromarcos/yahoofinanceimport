YFImport
===

**Table of Contents**

- [Introduction](#introduction)
- [Command Line Usage](#command-line-usage)
- [File Structure](#file-structure)
- [Experiment Parameters](#experiment-parameters)

# Introduction

YFImport is a set of two tools for import historical data from Yahoo Finance and prepare for experiments with StreamPref DSMS.
The tool *yfimport.py* imports historical data from Yahoo Finance and join this data with stocks data already inserted into *yahoo_data/stocks* file.
The tool *yfrun.py* generates the enviroments files for StreamPref, run the experiments and summarize the experiments results. 

# Command Line Usage

The command line parameters for *yfimport.py* are:
- -h/--help: Show help message
- -s/--start: Start date
- -e/--end: End date
- -x/--exchange: Filter by exchange

The command line parameters for *yfrun.py* are:
- -h/--help: Show help message
- -g/--gen: Generate files
- -r/--run: Run experiments
- -s/--summarize: Summarize results


# File Structure

The tool *yfimport.py* creates the following file structure:
- yahoo_data
  - historical (directory for individual imported historical files)
  - stocks.csv (table of stocks)
  - trade.csv (stream of trades)
  - volatility.csv (stream of volatility rate)
  - transaction.csv (join of stocks, trades and volatility)

The tool *yfrun.py* creates the following file structure:
- streampref
  - data (data files)
  - details (detailed results generated by experiments)
  - env (environment files)
  - queries (preference queries)
  - result (final results with confidence interval)
  - summary (summarized results)

# Experiment Parameters

The *yfrun.py* generates preference queries over sliding windows with variation in the range and slide.
The values such parameters are:
- Range:
  - Variation: 2, 3, 4, 5, 6
  - Default: 4
- Slide:
  - Variation: 1, 2, 3, 4
  - Default: 4
